LIBRARY ieee;
USE ieee.std_logic_1164.ALL;
USE ieee.std_logic_unsigned.ALL;

ENTITY vhdl IS
	PORT (
		-- 在这里添加主程式所需的端口信号
		clk : IN STD_LOGIC;
		rst : IN STD_LOGIC;
		func : IN STD_LOGIC;
		din : IN STD_LOGIC_VECTOR(8 - 1 DOWNTO 0);
		dout : OUT STD_LOGIC_VECTOR(8 - 1 DOWNTO 0) -- N是计数器的位数
	);
END vhdl;

ARCHITECTURE vhdl_a OF vhdl IS
	SIGNAL counter_value_internal : STD_LOGIC_VECTOR(8 - 1 DOWNTO 0); -- 内部信号用于连接计数器

BEGIN
	u0 : ENTITY work.ShiftRegister
		GENERIC MAP(
			N => 8 -- 在这里指定计数器的位数
		)
		PORT MAP(
			clk => clk,
			rst => rst,
			func => func,
			din => din,
			dout => counter_value_internal
		);

	-- 输出计数器的值
	counter_value <= counter_value_internal;
END vhdl_a;